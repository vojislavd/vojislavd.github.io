<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="A complete guide to setting up a Laravel development environment on Ubuntu 20.04 with Nginx, MySQL, PHP, Redis, MailHog, Minio, and Ngrok.">
    <meta name="author" content="Vojislav Dragicevic">
    <meta name="robots" content="index,follow">

    <!-- Open Graph -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://vojislavd.com/articles/set-up-dev-environment-for-laravel-on-ubuntu/">
    <meta property="og:title" content="Set Up Dev Environment For Laravel On Ubuntu 20.04 (LEMP + Redis, MailHog, Minio, Ngrok)">
    <meta property="og:description" content="A complete guide to setting up a Laravel development environment on Ubuntu 20.04 with Nginx, MySQL, PHP, Redis, MailHog, Minio, and Ngrok.">
    <meta property="og:image" content="https://vojislavd.com/images/me.jpg">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Set Up Dev Environment For Laravel On Ubuntu 20.04 (LEMP + Redis, MailHog, Minio, Ngrok)">
    <meta name="twitter:description" content="A complete guide to setting up a Laravel development environment on Ubuntu 20.04 with Nginx, MySQL, PHP, Redis, MailHog, Minio, and Ngrok.">
    <meta name="twitter:image" content="https://vojislavd.com/images/me.jpg">

    <title>Set Up Dev Environment For Laravel On Ubuntu 20.04 (LEMP + Redis, MailHog, Minio, Ngrok) | Vojislav Dragicevic</title>
    <link rel="canonical" href="https://vojislavd.com/articles/set-up-dev-environment-for-laravel-on-ubuntu/">
    <link rel="alternate" href="https://vojislavd.com/articles/set-up-dev-environment-for-laravel-on-ubuntu/" hreflang="en">
    <link rel="icon" href="/images/logo.png" type="image/png">
  <link rel="stylesheet" crossorigin href="/assets/style-CjBnfhH-.css">
</head>
<body class="bg-slate-50 font-mono text-slate-800 min-h-screen">
    <div class="max-w-3xl mx-auto w-full px-6 py-10 sm:py-16">
        <main>
            <a
                href="/"
                class="inline-flex items-center gap-2 text-xs text-slate-500 hover:text-slate-700 transition-colors duration-200 mb-10"
            >
                <svg class="size-3.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
                </svg>
                Back
            </a>

            <article>
                <header class="space-y-4 mb-8 sm:mb-12">
                    <h1 class="text-xl sm:text-2xl font-bold tracking-tight leading-snug">Set Up Dev Environment For Laravel On Ubuntu 20.04 (LEMP + Redis, MailHog, Minio, Ngrok)</h1>
                    <time class="text-xs text-slate-400">Feb 14, 2022</time>
                </header>

                <div class="article-content">
                    <p><em>Note: This setup is only for development on local machine, it is not ready for production! To set up a server with LEMP stack ready for production please inform yourself more about performances and security issues.</em></p>
<h2>Prerequisites</h2>
<p>You should already have installed Ubuntu 20.04 server or desktop.</p>
<h2>Installing PHP</h2>
<p>First we will install PHP and after that we will install all extensions that are required to run Laravel.</p>
<p><em><b>Note:</b> We will install PHP version 8.1, which is latest version in time when this article is written. If you want to install some other version replace &#39;php8.1&#39; with the version you want, e.g. php7.4</em></p>
<p>First we need to add package archive for PHP:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> add-apt-repository</span><span style="color:#CE9178"> ppa:ondrej/php</span></span></code></pre><p>After that install PHP with command:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> apt</span><span style="color:#CE9178"> install</span><span style="color:#CE9178"> php8.1</span></span></code></pre><p>If everything goes right you should now have PHP installed on your machine. To test it, run command to see current PHP version and you should see that it&#39;s version 8.1.</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">$</span><span style="color:#CE9178"> php</span><span style="color:#569CD6"> -v</span></span>
<span class="line"><span style="color:#DCDCAA">PHP</span><span style="color:#B5CEA8"> 8.1.2</span><span style="color:#D4D4D4"> (cli) (</span><span style="color:#DCDCAA">built:</span><span style="color:#CE9178"> Jan</span><span style="color:#B5CEA8"> 24</span><span style="color:#B5CEA8"> 2022</span><span style="color:#CE9178"> 10:42:33</span><span style="color:#D4D4D4">) (</span><span style="color:#DCDCAA">NTS</span><span style="color:#D4D4D4">)</span></span>
<span class="line"><span style="color:#DCDCAA">Copyright</span><span style="color:#D4D4D4"> (c) The PHP Group</span></span>
<span class="line"><span style="color:#DCDCAA">Zend</span><span style="color:#CE9178"> Engine</span><span style="color:#CE9178"> v4.1.2,</span><span style="color:#CE9178"> Copyright</span><span style="color:#D4D4D4"> (c) Zend Technologies</span></span></code></pre><p>Next, we need to install PHP extensions required to run Laravel applications. At time this article is written latest Laravel version is 9 and PHP extensions required are:</p>
<ul>
<li>BCMath PHP Extension</li>
<li>Ctype PHP Extension</li>
<li>DOM PHP Extension</li>
<li>Fileinfo PHP Extension</li>
<li>JSON PHP Extension</li>
<li>Mbstring PHP Extension</li>
<li>OpenSSL PHP Extension</li>
<li>PCRE PHP Extension</li>
<li>PDO PHP Extension</li>
<li>Tokenizer PHP Extension</li>
<li>XML PHP Extension</li>
</ul>
<p>Some of the extensions are already installed with PHP, but ones that aren&#39;t, we should install manually.</p>
<p>To see extensions installed run command:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">php</span><span style="color:#569CD6"> -m</span></span></code></pre><p>You should get the list of all currently installed extensions.</p>
<p>In the next step we will install all PHP extensions that are missing:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> apt</span><span style="color:#CE9178"> install</span><span style="color:#CE9178"> php8.1-bcmath</span><span style="color:#CE9178"> php8.1-dom</span><span style="color:#CE9178"> php8.1-mbstring</span><span style="color:#CE9178"> php8.1-xml</span></span></code></pre><p>We will also install a couple of PHP extensions that are not required for basic Laravel application, but you will probably need them for anything slightly more complicated.</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> apt</span><span style="color:#CE9178"> install</span><span style="color:#CE9178"> php8.1-curl</span><span style="color:#CE9178"> php8.1-sqlite3</span><span style="color:#CE9178"> php8.1-xdebug</span><span style="color:#CE9178"> php8.1-redis</span><span style="color:#CE9178"> php8.1-zip</span></span></code></pre><p>At the end, we need to install extensions for Nginx and MySQL:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> apt</span><span style="color:#CE9178"> install</span><span style="color:#CE9178"> php8.1-fpm</span><span style="color:#CE9178"> php8.1-mysql</span></span></code></pre><p>Next, we should turn on option to display errors in php.ini configuration file. Open that file with Vim text editor and find &quot;display_errors&quot; and &quot;display_startup_errors&quot; and set their values to be &quot;On&quot;:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> vim</span><span style="color:#CE9178"> /etc/php/8.1/fpm/php.ini</span></span></code></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#6A9955">; /etc/php/8.1/fpm/php.ini</span></span>
<span class="line"><span style="color:#D4D4D4">...</span></span>
<span class="line"><span style="color:#569CD6">display_errors</span><span style="color:#D4D4D4"> = On</span></span>
<span class="line"><span style="color:#569CD6">display_startup_errors</span><span style="color:#D4D4D4"> = On</span></span></code></pre><p>As last step for setting up PHP, you should restart PHP service:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> service</span><span style="color:#CE9178"> php8.1-fpm</span><span style="color:#CE9178"> restart</span></span></code></pre><h2>Installing Composer</h2>
<p>To be able to use Laravel, you need to have a composer installed.</p>
<p>First, go to your home directory:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">cd</span><span style="color:#9CDCFE"> $home</span></span></code></pre><p>With the next couple of commands, you will download composer installer and install it on your machine.</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">curl</span><span style="color:#569CD6"> -sS</span><span style="color:#CE9178"> https://getcomposer.org/installer</span><span style="color:#569CD6"> -o</span><span style="color:#CE9178"> /tmp/composer-setup.php</span></span>
<span class="line"><span style="color:#9CDCFE">HASH</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">`</span><span style="color:#DCDCAA">curl</span><span style="color:#569CD6"> -sS</span><span style="color:#CE9178"> https://composer.github.io/installer.sig`</span></span>
<span class="line"><span style="color:#DCDCAA">php</span><span style="color:#569CD6"> -r</span><span style="color:#CE9178"> "if (hash_file('SHA384', '/tmp/composer-setup.php') === '</span><span style="color:#9CDCFE">$HASH</span><span style="color:#CE9178">') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;"</span></span>
<span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> php</span><span style="color:#CE9178"> /tmp/composer-setup.php</span><span style="color:#569CD6"> --install-dir=/usr/local/bin</span><span style="color:#569CD6"> --filename=composer</span></span></code></pre><p>Run command for composer version to check if the composer is successfully installed, you should get information about composer version that is installed on your machine:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">$</span><span style="color:#CE9178"> composer</span><span style="color:#569CD6"> --version</span></span>
<span class="line"><span style="color:#DCDCAA">Composer</span><span style="color:#CE9178"> version</span><span style="color:#B5CEA8"> 2.1.14</span><span style="color:#CE9178"> 2021-11-30</span><span style="color:#CE9178"> 10:51:43</span></span></code></pre><h2>Installing MySQL</h2>
<p>As first step you should install MySQL server:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> apt</span><span style="color:#CE9178"> install</span><span style="color:#CE9178"> mysql-server</span></span></code></pre><p>After MySQL server is successfully installed, you should start a server:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> service</span><span style="color:#CE9178"> mysql</span><span style="color:#CE9178"> start</span></span></code></pre><p>Next, you should configure some security rules. Run command for secure installation and follow given steps:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> mysql_secure_installation</span></span></code></pre><p>After that is finished, log in to MySQL server as root user:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> mysql</span><span style="color:#569CD6"> -u</span><span style="color:#CE9178"> root</span></span></code></pre><p>In the next step, we will create a new user and give him all privileges:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#569CD6">CREATE</span><span style="color:#569CD6"> USER</span><span style="color:#D4D4D4"> '</span><span style="color:#DCDCAA">your_username</span><span style="color:#D4D4D4">'@</span><span style="color:#CE9178">'localhost'</span><span style="color:#D4D4D4"> IDENTIFIED </span><span style="color:#569CD6">BY</span><span style="color:#CE9178"> 'your_password'</span><span style="color:#D4D4D4">;</span></span></code></pre><p>If you are getting error that password is not strong enough, and you are sure you want to use a weak password, run this command and after that try to create the user again:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#569CD6">SET</span><span style="color:#569CD6"> GLOBAL</span><span style="color:#D4D4D4"> validate_password.policy=LOW;</span></span></code></pre><p>Next, give all permissions to this user:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#569CD6">GRANT</span><span style="color:#D4D4D4"> ALL PRIVILEGES </span><span style="color:#569CD6">ON</span><span style="color:#D4D4D4"> *.* </span><span style="color:#569CD6">TO</span><span style="color:#CE9178"> 'your_username'</span><span style="color:#D4D4D4">@</span><span style="color:#CE9178">'localhost'</span><span style="color:#569CD6"> WITH</span><span style="color:#569CD6"> GRANT</span><span style="color:#569CD6"> OPTION</span><span style="color:#D4D4D4">;</span></span></code></pre><p>Log out from MySQL server with &quot;exit&quot; command:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#D4D4D4">exit</span></span></code></pre><p>Then log in again but this time with the user you just created:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> mysql</span><span style="color:#569CD6"> -u</span><span style="color:#CE9178"> your_username</span><span style="color:#569CD6"> -p</span></span></code></pre><p>It will ask you for a password, enter the password you choose for the user in previous steps.</p>
<p>When you logged in, create a new database:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#569CD6">create</span><span style="color:#569CD6"> database</span><span style="color:#DCDCAA"> laravel_app</span><span style="color:#D4D4D4">;</span></span></code></pre><p>MySQL server is now ready, and we created new database &quot;laravel_app&quot; that we can use for our Laravel application.</p>
<p><em>To use the database we just created your environment variables should be:</em></p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#569CD6">DB_CONNECTION</span><span style="color:#D4D4D4">=mysql</span></span>
<span class="line"><span style="color:#569CD6">DB_HOST</span><span style="color:#D4D4D4">=127.0.0.1</span></span>
<span class="line"><span style="color:#569CD6">DB_PORT</span><span style="color:#D4D4D4">=3306</span></span>
<span class="line"><span style="color:#569CD6">DB_DATABASE</span><span style="color:#D4D4D4">=laravel_app</span></span>
<span class="line"><span style="color:#569CD6">DB_USERNAME</span><span style="color:#D4D4D4">=your_username</span></span>
<span class="line"><span style="color:#569CD6">DB_PASSWORD</span><span style="color:#D4D4D4">=your_password</span></span></code></pre><h2>Installing Nginx</h2>
<p>To install Nginx run command:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> apt</span><span style="color:#CE9178"> install</span><span style="color:#CE9178"> nginx</span></span></code></pre><p>That&#39;s it, Nginx is installed.</p>
<h2>Create Laravel Application</h2>
<p>Now that we have successfully set up PHP, MySQL and Nginx we can create our Laravel application.</p>
<p>First, create directory at <code>/var/www</code> with the chosen name for application:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> mkdir</span><span style="color:#CE9178"> /var/www/laravelapp.test</span></span></code></pre><p>After that change permissions for that directory to have read and write privileges:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> chmod</span><span style="color:#569CD6"> -R</span><span style="color:#CE9178"> ugo+rw</span><span style="color:#CE9178"> /var/www/laravelapp.test</span></span></code></pre><p>Go to the directory of our application and create a new Laravel application using Composer:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">cd</span><span style="color:#CE9178"> /var/www/laravelapp.test</span></span>
<span class="line"><span style="color:#DCDCAA">composer</span><span style="color:#CE9178"> create-project</span><span style="color:#CE9178"> laravel/laravel</span><span style="color:#569CD6"> --prefer-dist</span><span style="color:#CE9178"> .</span></span></code></pre><p>Next, create a configuration file for Nginx at /etc/nginx/sites-available/ with the same name as our project directory:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> vim</span><span style="color:#CE9178"> /etc/nginx/sites-available/laravelapp.test</span></span></code></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#6A9955"># /etc/nginx/sites-available/laravelapp.test</span></span>
<span class="line"><span style="color:#569CD6">server</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#569CD6">    listen </span><span style="color:#B5CEA8">80</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">    listen </span><span style="color:#D4D4D4">[::]:80;</span></span>
<span class="line"><span style="color:#569CD6">    server_name </span><span style="color:#D4D4D4">laravelapp.test www.laravelapp.test;</span></span>
<span class="line"><span style="color:#569CD6">    root </span><span style="color:#D4D4D4">/var/www/laravelapp.test/public;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">    add_header </span><span style="color:#D4D4D4">X-Frame-Options </span><span style="color:#CE9178">"SAMEORIGIN"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">    add_header </span><span style="color:#D4D4D4">X-Content-Type-Options </span><span style="color:#CE9178">"nosniff"</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">    index </span><span style="color:#D4D4D4">index.php;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">    charset </span><span style="color:#D4D4D4">utf-8;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">    location</span><span style="color:#D4D4D4"> / {</span></span>
<span class="line"><span style="color:#569CD6">        try_files </span><span style="color:#D4D4D4">$</span><span style="color:#9CDCFE">uri</span><span style="color:#D4D4D4"> $</span><span style="color:#9CDCFE">uri</span><span style="color:#D4D4D4">/ /index.php?$</span><span style="color:#9CDCFE">query_string</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">    location</span><span style="color:#D4D4D4"> = </span><span style="color:#D16969">/favicon.ico </span><span style="color:#D4D4D4">{</span><span style="color:#569CD6"> access_log off</span><span style="color:#D4D4D4">;</span><span style="color:#569CD6"> log_not_found off</span><span style="color:#D4D4D4">; }</span></span>
<span class="line"><span style="color:#569CD6">    location</span><span style="color:#D4D4D4"> = </span><span style="color:#D16969">/robots.txt </span><span style="color:#D4D4D4">{</span><span style="color:#569CD6"> access_log off</span><span style="color:#D4D4D4">;</span><span style="color:#569CD6"> log_not_found off</span><span style="color:#D4D4D4">; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">    error_page </span><span style="color:#B5CEA8">404</span><span style="color:#D4D4D4"> /index.php;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">    location</span><span style="color:#D4D4D4"> ~ </span><span style="color:#D16969">\.php$ </span><span style="color:#D4D4D4">{</span></span>
<span class="line"><span style="color:#569CD6">        fastcgi_pass </span><span style="color:#D4D4D4">unix:/var/run/php/php8.1-fpm.sock;</span></span>
<span class="line"><span style="color:#569CD6">        fastcgi_param </span><span style="color:#D4D4D4">SCRIPT_FILENAME</span></span>
<span class="line"><span style="color:#D4D4D4">        $</span><span style="color:#9CDCFE">realpath_root</span><span style="color:#D4D4D4">$</span><span style="color:#9CDCFE">fastcgi_script_name</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#569CD6">        include </span><span style="color:#D4D4D4">fastcgi_params;</span></span>
<span class="line"><span style="color:#D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">    location</span><span style="color:#D4D4D4"> ~ </span><span style="color:#D16969">/\.(?!well-known).* </span><span style="color:#D4D4D4">{</span></span>
<span class="line"><span style="color:#569CD6">        deny all</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">    }</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span></code></pre><p>Create a symbolic link of configuration file in /etc/nginx/sites-enabled/ directory:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> ln</span><span style="color:#569CD6"> -s</span><span style="color:#CE9178"> /etc/nginx/sites-available/laravelapp.test</span><span style="color:#CE9178"> /etc/nginx/sites-enabled</span></span></code></pre><p>Check if Nginx configuration is ok:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">$</span><span style="color:#CE9178"> sudo</span><span style="color:#CE9178"> nginx</span><span style="color:#569CD6"> -t</span></span>
<span class="line"><span style="color:#DCDCAA">nginx:</span><span style="color:#CE9178"> the</span><span style="color:#CE9178"> configuration</span><span style="color:#CE9178"> file</span><span style="color:#CE9178"> /etc/nginx/nginx.conf</span><span style="color:#CE9178"> syntax</span><span style="color:#CE9178"> is</span><span style="color:#CE9178"> ok</span></span>
<span class="line"><span style="color:#DCDCAA">nginx:</span><span style="color:#CE9178"> configuration</span><span style="color:#CE9178"> file</span><span style="color:#CE9178"> /etc/nginx/nginx.conf</span><span style="color:#CE9178"> test</span><span style="color:#CE9178"> is</span><span style="color:#CE9178"> successful</span></span></code></pre><p>If everything is ok, reload Nginx server:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> systemctl</span><span style="color:#CE9178"> reload</span><span style="color:#CE9178"> nginx</span></span></code></pre><p>At the end, add app domain to hosts file:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> vim</span><span style="color:#CE9178"> /etc/hosts</span></span></code></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span># /etc/hosts</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>127.0.0.1 laravelapp.test</span></span></code></pre><p>That&#39;s it, if everything is done correctly you should be able to access your Laravel application at <a href="http://laravelapp.test">http://laravelapp.test</a></p>
<p><em><b>Note:</b> If you get some error with storage or bootstrap directory, just give read and write permissions to that directory</em></p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> chmod</span><span style="color:#569CD6"> -R</span><span style="color:#CE9178"> ugo+rw</span><span style="color:#CE9178"> /var/www/laravelapp.test/storage</span></span></code></pre><h2>Installing Redis</h2>
<p>It&#39;s not necessary, but I can highly recommend installing a Redis database also, especially if you plan to use some of the advanced features of Laravel framework, like Queues.</p>
<p>If you don&#39;t need or want to use Redis, just skip this section.</p>
<p>First, install Redis server:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> apt</span><span style="color:#CE9178"> install</span><span style="color:#CE9178"> redis-server</span></span></code></pre><p>Next, in configuration file find &quot;supervised&quot; and set it to be &quot;systemd&quot;:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> vim</span><span style="color:#CE9178"> /etc/redis/redis.conf</span></span></code></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span># redis.conf</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>supervised systemd</span></span></code></pre><p>Restart Redis service:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> systemctl</span><span style="color:#CE9178"> restart</span><span style="color:#CE9178"> redis-server.service</span></span></code></pre><p>Check if status is &quot;Active&quot;:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> systemctl</span><span style="color:#CE9178"> status</span><span style="color:#CE9178"> redis-server.service</span></span></code></pre><p>If everything is alright, log in to the Redis server:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">redis-cli</span></span></code></pre><p>To test a server, enter &quot;ping&quot; and you should get &quot;PONG&quot; as response:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">redis</span><span style="color:#D4D4D4">> </span><span style="color:#CE9178">ping</span></span>
<span class="line"><span style="color:#DCDCAA">PONG</span></span></code></pre><p>To test if Redis is working correctly, we will set the new variable and try to get it:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">redis</span><span style="color:#D4D4D4">> </span><span style="color:#CE9178">set</span><span style="color:#CE9178"> test_variable</span><span style="color:#CE9178"> "This is test variable"</span></span></code></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">redis</span><span style="color:#D4D4D4">> </span><span style="color:#CE9178">get</span><span style="color:#CE9178"> test_variable</span></span>
<span class="line"><span style="color:#DCDCAA">"This is test variable"</span></span></code></pre><p>Then test if Redis is able to persist data even after it&#39;s been stopped. Log out from Redis server, restart server, log in again and try to get test variable we just created.</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">redis</span><span style="color:#D4D4D4">> </span><span style="color:#CE9178">exit</span></span></code></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> systemctl</span><span style="color:#CE9178"> restart</span><span style="color:#CE9178"> redis-server</span></span></code></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">redis-cli</span></span></code></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">redis</span><span style="color:#D4D4D4">> </span><span style="color:#CE9178">get</span><span style="color:#CE9178"> test_variable</span></span>
<span class="line"><span style="color:#DCDCAA">"This is test variable"</span></span></code></pre><p>Next, we should make some changes in configuration file:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> vim</span><span style="color:#CE9178"> /etc/redis/redis.conf</span></span></code></pre><p>To make sure Redis is available only to our local machine find &quot;bind&quot; and set it to be &quot;127.0.0.1 ::1&quot;. It should be like that by default, but if it&#39;s not change it.</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span># redis.conf</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>bind 127.0.0.1 ::1</span></span></code></pre><p>Set up a password for Redis database:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span># redis.conf</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>requirepass your_password</span></span></code></pre><p>Save and close configuration file and restart Redis.</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> systemctl</span><span style="color:#CE9178"> restart</span><span style="color:#CE9178"> redis-server.service</span></span></code></pre><p>To check if a password is set up correctly log in to Redis database and try to set a new key. It should fail because authentication is required.</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">redis-cli</span></span></code></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">redis</span><span style="color:#D4D4D4">> </span><span style="color:#CE9178">set</span><span style="color:#CE9178"> new_key</span><span style="color:#CE9178"> "Test new key"</span></span>
<span class="line"><span style="color:#DCDCAA">NOAUTH</span><span style="color:#CE9178"> Authentication</span><span style="color:#CE9178"> required.</span></span></code></pre><p>Authenticate with the password we just set and try again, it should work now.</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">redis</span><span style="color:#D4D4D4">> </span><span style="color:#CE9178">auth</span><span style="color:#CE9178"> your_password</span></span>
<span class="line"><span style="color:#DCDCAA">OK</span></span></code></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">redis</span><span style="color:#D4D4D4">> </span><span style="color:#CE9178">set</span><span style="color:#CE9178"> new_key</span><span style="color:#CE9178"> "Test new key"</span></span>
<span class="line"><span style="color:#DCDCAA">OK</span></span></code></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">redis</span><span style="color:#D4D4D4">> </span><span style="color:#CE9178">get</span><span style="color:#CE9178"> new_key</span></span>
<span class="line"><span style="color:#DCDCAA">"Test new key"</span></span></code></pre><p>That&#39;s it, Redis server is now installed and configured.</p>
<p><em>To use Redis database your environment variables should be:</em></p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#569CD6">REDIS_HOST</span><span style="color:#D4D4D4">=127.0.0.1</span></span>
<span class="line"><span style="color:#569CD6">REDIS_PASSWORD</span><span style="color:#D4D4D4">=your_password</span></span>
<span class="line"><span style="color:#569CD6">REDIS_PORT</span><span style="color:#D4D4D4">=6379</span></span></code></pre><h2>Installing MailHog</h2>
<p>To test email sending from your application, you can use fake SMTP server like MailHog.</p>
<p>For this package to work, you should have installed &quot;golang&quot; programming language. To install it run command:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> apt-get</span><span style="color:#569CD6"> -y</span><span style="color:#CE9178"> install</span><span style="color:#CE9178"> golang-go</span></span></code></pre><p>After that, get MailHog from official Github repository:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">go</span><span style="color:#CE9178"> get</span><span style="color:#CE9178"> github.com/mailhog/MailHog</span></span></code></pre><p>That&#39;s it, MailHog is installed on your machine. Every time you want to use MailHog just run command:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#D4D4D4">~/go/bin/MailHog</span></span></code></pre><p>And your SMTP server will be available at <code>http://localhost:8025</code>.</p>
<p><em>To use MailHog SMTP server to test email sending in your application use this environment variables:</em></p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#569CD6">MAIL_MAILER</span><span style="color:#D4D4D4">=smtp</span></span>
<span class="line"><span style="color:#569CD6">MAIL_HOST</span><span style="color:#D4D4D4">=localhost</span></span>
<span class="line"><span style="color:#569CD6">MAIL_PORT</span><span style="color:#D4D4D4">=1025</span></span>
<span class="line"><span style="color:#569CD6">MAIL_USERNAME</span><span style="color:#D4D4D4">=null</span></span>
<span class="line"><span style="color:#569CD6">MAIL_PASSWORD</span><span style="color:#D4D4D4">=null</span></span>
<span class="line"><span style="color:#569CD6">MAIL_ENCRYPTION</span><span style="color:#D4D4D4">=null</span></span>
<span class="line"><span style="color:#569CD6">MAIL_FROM_ADDRESS</span><span style="color:#D4D4D4">=someaddress@example.com</span></span>
<span class="line"><span style="color:#569CD6">MAIL_FROM_NAME</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">"${APP_NAME}"</span></span></code></pre><h2>Installing Minio</h2>
<p>Minio is high performance object storage with API compatible with Amazon S3. It&#39;s great option if you want to test a file uploading with Amazon S3 disk.</p>
<p>Get Minio with command:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">wget</span><span style="color:#CE9178"> https://dl.min.io/server/minio/release/linux-amd64/minio</span></span></code></pre><p>Change permissions of the directory to have access permission:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">chmod</span><span style="color:#CE9178"> +x</span><span style="color:#CE9178"> minio</span></span></code></pre><p>That&#39;s it, Minio is ready. Every time you want to use it just run command:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> MINIO_ROOT_USER=your_username</span><span style="color:#CE9178"> MINIO_ROOT_PASSWORD=your_password</span><span style="color:#CE9178"> ~/minio</span><span style="color:#CE9178"> server</span><span style="color:#CE9178"> /mnt/data</span><span style="color:#569CD6"> --console-address</span><span style="color:#CE9178"> ":9001"</span></span></code></pre><p>After that you can use it at <code>http://127.0.0.1:9000</code> with credentials you choose in previous step.</p>
<p><em>To use Minio in your application use this environment variables:</em></p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#569CD6">FILESYSTEM_DRIVER</span><span style="color:#D4D4D4">=s3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">AWS_ACCESS_KEY_ID</span><span style="color:#D4D4D4">=your_username</span></span>
<span class="line"><span style="color:#569CD6">AWS_SECRET_ACCESS_KEY</span><span style="color:#D4D4D4">=your_password</span></span>
<span class="line"><span style="color:#569CD6">AWS_DEFAULT_REGION</span><span style="color:#D4D4D4">=us-east-1</span></span>
<span class="line"><span style="color:#569CD6">AWS_BUCKET</span><span style="color:#D4D4D4">=your_bucket</span></span>
<span class="line"><span style="color:#569CD6">AWS_ENDPOINT</span><span style="color:#D4D4D4">=http://127.0.0.1:9000</span></span>
<span class="line"><span style="color:#569CD6">AWS_USE_PATH_STYLE_ENDPOINT</span><span style="color:#D4D4D4">=true</span></span></code></pre><h2>Installing Ngrok</h2>
<p>If you want to share your application with someone, you can create a public URL with Ngrok.</p>
<p>First download and install Ngrok:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">curl</span><span style="color:#569CD6"> -s</span><span style="color:#CE9178"> https://ngrok-agent.s3.amazonaws.com/ngrok.asc</span><span style="color:#D4D4D4"> | </span><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> tee</span><span style="color:#CE9178"> /etc/apt/trusted.gpg.d/ngrok.asc</span><span style="color:#D4D4D4"> ></span><span style="color:#CE9178">/dev/null</span><span style="color:#D4D4D4"> &#x26;&#x26; </span><span style="color:#DCDCAA">echo</span><span style="color:#CE9178"> "deb https://ngrok-agent.s3.amazonaws.com buster main"</span><span style="color:#D4D4D4"> | </span><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> tee</span><span style="color:#CE9178"> /etc/apt/sources.list.d/ngrok.list</span><span style="color:#D4D4D4"> &#x26;&#x26; </span><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> apt</span><span style="color:#CE9178"> update</span><span style="color:#D4D4D4"> &#x26;&#x26; </span><span style="color:#DCDCAA">sudo</span><span style="color:#CE9178"> apt</span><span style="color:#CE9178"> install</span><span style="color:#CE9178"> ngrok</span></span></code></pre><p>In the next step you should go to <a href="https://ngrok.com/">https://ngrok.com/</a> and create account. With that account you should be able to get API key.</p>
<p>Authenticate Ngrok with API key you get for your account:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">ngrok</span><span style="color:#CE9178"> authtoken</span><span style="color:#CE9178"> your_token</span></span></code></pre><p>That&#39;s it, Ngrok is ready. To share your project, go to the project directory and run command:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">ngrok</span><span style="color:#CE9178"> http</span><span style="color:#B5CEA8"> 80</span></span></code></pre><p>Or you can expose a project by domain name:</p>
<pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#DCDCAA">ngrok</span><span style="color:#CE9178"> http</span><span style="color:#569CD6"> -host-header=laravelapp.test</span><span style="color:#B5CEA8"> 80</span></span></code></pre><h2>Conclusion</h2>
<p>You now have working local development server with installed PHP, MySQL, Nginx, MailHog, Minio and Ngrok.</p>
<p>For every new application you need to repeat steps described in <code>Create Laravel Application</code> section. Optionally, if you need to use MySQL database you need to create a new one as it is described in <code>Installing MySQL</code> section.</p>
<p>Enjoy!</p>

                </div>
            </article>
        </main>
    </div>

    <footer class="max-w-3xl mx-auto w-full px-6 pb-8">
        <div class="h-px bg-slate-200 mb-6"></div>
        <p class="text-xs text-slate-400 text-center">
            © 2014–<script>document.write(new Date().getFullYear())</script> <a href="https://vojislavd.com" class="hover:text-slate-600 transition-colors duration-200">Vojislav Dragicevic</a>. All rights reserved.
        </p>
    </footer>

    <script>
        const iconCopy = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="8" y="8" width="12" height="12" rx="2"/><path d="M16 8V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2"/></svg>'
        const iconCheck = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>'

        document.querySelectorAll('.article-content pre').forEach(pre => {
            const wrapper = document.createElement('div')
            wrapper.style.cssText = 'position:relative'
            pre.parentNode.insertBefore(wrapper, pre)
            wrapper.appendChild(pre)

            const btn = document.createElement('button')
            btn.className = 'copy-btn'
            btn.innerHTML = iconCopy
            wrapper.appendChild(btn)

            btn.addEventListener('click', () => {
                navigator.clipboard.writeText(pre.querySelector('code').innerText)
                btn.innerHTML = iconCheck
                btn.classList.add('copied')
                setTimeout(() => {
                    btn.innerHTML = iconCopy
                    btn.classList.remove('copied')
                }, 2000)
            })
        })
    </script>
</body>
</html>
